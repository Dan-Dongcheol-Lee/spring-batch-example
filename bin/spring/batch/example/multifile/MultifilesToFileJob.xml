<?xml version="1.0" encoding="UTF-8"?>
<bean:beans xmlns:bean="http://www.springframework.org/schema/beans"
    xmlns="http://www.springframework.org/schema/batch"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd">
    
    <job id="multifilesToFileJob">
        <step id="partitionStep">
            <partition partitioner="multiResourcePartitioner" step="step1">
                <handler/>
                <!-- 
                <handler task-executor="asyncTaskExecutor"/>
                 -->
            </partition>
        </step>
    </job>

    <step id="step1">
        <tasklet>
            <chunk commit-interval="10"
                reader="itemReader" processor="itemProcessor" writer="itemWriter"/>
        </tasklet>
    </step>
    
    <bean:bean id="multiResourcePartitioner"
        class="org.springframework.batch.core.partition.support.MultiResourcePartitioner">
        <bean:property name="resources" value="file:D:/app_pilot/scala_workspaces/seeding-spring-batch/sample_data/multi/input/*/*.txt"/>
    </bean:bean>
</bean:beans>
